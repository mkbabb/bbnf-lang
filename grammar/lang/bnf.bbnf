identifier = /[a-zA-Z_][a-zA-Z0-9_-]*/ ;
terminal = "\"" , /(\\.|[^"\\])*/ , "\"" ;
nonterminal = "<" >> identifier << ">" ;

term = terminal | nonterminal ;
expression = (term , /[ \t]*/)+ ;
alternation = expression , ( /[ \t]*/ , "|" , /[ \t]*/ , expression )* ;

rhs = alternation ;
lhs = nonterminal ;
rule = lhs , /[ \t]*/ , "::=" , /[ \t]*/ , rhs , /[ \t]*/ , /\n/ ? ;
grammar = (rule ?w)* ;

@pretty grammar block ;
@pretty rule group ;
@pretty alternation group ;
